{"ast":null,"code":"import'./App.css';import React,{useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[question,setQuestion]=useState('');const[assistantResponses,setAssistantResponses]=useState([]);const[loading,setLoading]=useState(false);const handleSubmit=async e=>{e.preventDefault();try{setLoading(true);const response=await fetch('http://localhost:8080/',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({question:question})});if(!response.ok){throw new Error(\"Server responded with \".concat(response.status));}const data=await response.text();setAssistantResponses([...assistantResponses,{role:'User',content:question},{role:'Assistant',content:data}]);}catch(error){console.error('Error:',error);}finally{setLoading(false);}};useEffect(()=>{window.scrollTo(0,document.body.scrollHeight);},[assistantResponses]);return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",style:{padding:'5rem'},children:[/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-group mb-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"question\",placeholder:\"Ask a question\",value:question,onChange:e=>setQuestion(e.target.value),\"aria-describedby\":\"button-addon2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group-append\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-secondary\",type:\"submit\",children:\"Ask\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",style:{fontSize:'19px'},children:[assistantResponses.map((response,index)=>/*#__PURE__*/_jsxs(\"p\",{children:[response.role,\": \",response.content]},index)),loading&&/*#__PURE__*/_jsx(\"p\",{children:\"Let's do something for you...\"})]})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","App","question","setQuestion","assistantResponses","setAssistantResponses","loading","setLoading","handleSubmit","e","preventDefault","response","fetch","method","headers","body","JSON","stringify","ok","Error","concat","status","data","text","role","content","error","console","window","scrollTo","document","scrollHeight","className","children","style","padding","onSubmit","type","name","placeholder","value","onChange","target","fontSize","map","index"],"sources":["/home/damlayasarr/Desktop/appNutrition/my-app/src/App.js"],"sourcesContent":["import './App.css';\nimport React, { useState, useEffect } from 'react';\n\nfunction App() {\n  const [question, setQuestion] = useState('');\n  const [assistantResponses, setAssistantResponses] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n  \n    try {\n      setLoading(true);\n  \n      const response = await fetch('http://localhost:8080/', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ question: question }),\n      });\n  \n      if (!response.ok) {\n        throw new Error(`Server responded with ${response.status}`);\n      }\n  \n      const data = await response.text();\n\n      setAssistantResponses([\n        ...assistantResponses,\n        { role: 'User', content: question },\n        { role: 'Assistant', content: data },\n      ]);\n    } catch (error) {\n      console.error('Error:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    window.scrollTo(0, document.body.scrollHeight);\n  }, [assistantResponses]);\n\n  return (\n    <div className='App'>\n    <div className=\"container\" style={{padding:'5rem'}}>\n      <form onSubmit={handleSubmit}>\n        <div className=\"input-group mb-3\">\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            name=\"question\"\n            placeholder=\"Ask a question\"\n            value={question}\n            onChange={(e) => setQuestion(e.target.value)}\n            aria-describedby=\"button-addon2\"\n          />\n          <div className=\"input-group-append\">\n            <button className=\"btn btn-outline-secondary\" type=\"submit\">\n              Ask\n            </button>\n          </div>\n        </div>\n      </form>\n      <div className=\"mt-3\" style={{ fontSize: '19px' }}>\n  {assistantResponses.map((response, index) => (\n  \n      <p key={index}>{response.role}: {response.content}</p>\n \n  ))}\n  {loading && <p>Let's do something for you...</p>}\n</div>\n    </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}